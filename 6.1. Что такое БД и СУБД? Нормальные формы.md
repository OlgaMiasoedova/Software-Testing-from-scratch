# 6.1. Что такое БД и СУБД? Нормальные формы

**Вступительное слово перед стартом модуля "Работа с реляционными базами данных"**

Представьте ситуацию, когда вы заходите на сайт своего любимого интернет магазина, а все товары в нем отсутствуют, вы не можете авторизоваться в системе, хотя еще вчера регистрировались в ней. Остались только голые страницы с общей версткой сайта и больше ничего. Что же случилось?

Возможно, данные ресурса были стерты. Возможно, потерялась связь с сервером базы данных и прочие неприятности.

Данные окружают нас повсюду и приложение состоит из них. Поэтому очень важно уметь работать с ними и включать в процесс тестирования. 

В данном модуле **мы узнаем**:

1. Где хранятся данные (БД) и как ими управлять (СУБД)?
2. Как использовать язык структурированных запросов SQL для создания, изменения, удаления и поиска данных на примере MySQL СУБД?
3. Как осуществлять экспорт и импорт данных?

Отдельно хочу отметить несколько **путей применения этих знаний в работе тестировщика**:

4. Быстрое создание тестовых данных внутри БД, без использования графического интерфейса
5. Изменение прав пользователей
6. Исследование причин возникновения дефектов на уровне данных
7. Помощь в решении проблем конечных пользователей, используя слепки (дампы) их баз данных
<br>
<br>

**Дополнительная информация**

1. Что такое База Данных (БД) [https://habr.com/ru/post/555760/](https://habr.com/ru/post/555760/)
2. [https://www.oracle.com/cis/database/what-is-database/](https://www.oracle.com/cis/database/what-is-database/)
3. Нормализация [https://info-comp.ru/database-normalization](https://info-comp.ru/database-normalization)
4. Нереляционные БД [https://learn.microsoft.com/ru-ru/azure/architecture/data-guide/big-data/non-relational-data](https://learn.microsoft.com/ru-ru/azure/architecture/data-guide/big-data/non-relational-data)
5. Книга «Работа с MySQL, MS SQL Server и Oracle в примерах» [https://svyatoslav.biz/database_book/](https://svyatoslav.biz/database_book/)
6. Подробнее о связях в реляционных базах данных [https://habr.com/ru/post/193380/](https://habr.com/ru/post/193380/)
7. Библия QA. Тестирование баз данных (Database) [https://vladislaveremeev.gitbook.io/qa_bible/testirovanie-v-raznykh-sferakh-oblastyakh-testing-different-domains/testirovanie-baz-dannykh-database](https://vladislaveremeev.gitbook.io/qa_bible/testirovanie-v-raznykh-sferakh-oblastyakh-testing-different-domains/testirovanie-baz-dannykh-database)
<br>
<br>

## Содержание:
### [Общая информация](#text1)
### [Типы отношений](#text2)
### [Нормализация и денормализация](#text3)
### [Вопросы к теме](#task1)
<br>
<br>
<br>
<br>

<a id='text1'></a>
## **Общая информация**
<br>

**Отличия БД от СУБД**:

- **База данных (БД)** — это собственно хранилище данных, которое может быть структурировано разными способами.
- **Система управления базами данных (СУБД)** — это программное обеспечение, которое помогает управлять и манипулировать данными в базе данных

**Типы БД**:

- **Иерархические БД** организованы как дерево, где связи устанавливаются в виде "родитель-потомок".
- **Сетевые БД** имеют более сложную структуру с множественными связями между записями.
- **Реляционные БД (SQL)** основаны на таблицах с данными, связанными через общие ключи. На курсе мы будем работать с ними.
- **Нереляционные БД  (известные как NoSQL)** структурируют данные не по табличной схеме, а используют форматы, такие как ключ-значение, документы, колонки или графы.

**Типы СУБД:**

1. **Реляционные СУБД**:
    
    - **MySQL**: Открытая система, широко используемая в веб-разработке. На курсе мы будем работать с ней.
    - **Oracle Database**: Коммерческая СУБД, широко используемая в корпоративных решениях.
    - **Microsoft SQL Server**: Предназначена для интеграции с другими продуктами Microsoft.
    - **PostgreSQL**: Открытая СУБД, поддерживает большие базы данных и сложные запросы.
2. **Нереляционные (NoSQL) СУБД**:
    
    - **MongoDB**: Документо-ориентированная СУБД, хранит данные в формате похожем на JSON.
    - **Cassandra**: Ориентирована на работу с большими объемами данных.
    - **Redis**: СУБД на основе ключ-значение, используется для кэширования данных и реализации очередей сообщений.
<br>
<br>
<br>
<br>

<a id='text2'></a>
## **Типы отношений**
<br>

- **1 к 1 (Один к одному)**: Каждая запись в одной таблице соответствует одной записи в другой таблице.
- **1 ко многим (Один ко многим)**: Одна запись в первой таблице может быть связана с многими записями во второй таблице.
- **Многие к 1 (Многие к одному)**: Множество записей в одной таблице связаны с одной записью в другой таблице.
- **Многие ко многим**: Записи в одной таблице могут быть связаны с множеством записей в другой таблице.

**Примеры**

- **1 к 1**: Каждая запись в таблице "Сотрудники" соответствует одной записи в таблице "Отделы".
<br>

<image src="/img/6.1. pic1.png" alt="">
<br>

- **1 ко многим**: Одна запись в таблице "Отделы" может быть связана с многими записями в таблице "Сотрудники"
<br>

<image src="/img/6.1. pic2.png" alt="">
<br>

- **Многие к 1**: Множество записей в таблице "Курсы" связаны с одной записью в таблице "Студенты", и множество записей в таблице "Студенты" связаны с одной записью в таблице "Курсы". 
<br>

<image src="/img/6.1. pic3.png" alt="">
<br>

- **Многие ко многим**: Записи в таблице "Студенты" могут быть связаны с множеством записей в таблице "Курсы", и записи в таблице "Курсы" могут быть связаны с множеством записей в таблице "Студенты".
<br>

<image src="/img/6.1. pic4.png" alt="">
<br>
<br>
<br>
<br>

<a id='text3'></a>
## **Нормализация и денормализация**
<br>

**Нормализация** - это процесс организации данных для снижения избыточности и улучшения целостности.

**Избыточность** относится к повторению данных в разных таблицах, что может привести к несоответствию и ошибкам при обновлении. Нормализация помогает уменьшить эту избыточность, распределяя данные так, чтобы каждый элемент информации был сохранен только в одном месте. Это обеспечивает более чистую и эффективную структуру базы данных.

**Целостность** относится к поддержанию точности и надежности информации. Это включает обеспечение того, чтобы данные оставались последовательными и верными во всех таблицах базы данных. Целостность обеспечивается правилами, которые предотвращают ввод некорректных данных и поддерживают взаимосвязь между различными частями данных.

**Нормальные формы**

**Нормальная форма** — это уровень, на котором организованы данные, чтобы минимизировать избыточность и улучшить целостность. Каждая нормальная форма определяет набор правил для структурирования данных, и существует несколько уровней нормальных форм. Переход от одной нормальной формы к другой помогает сделать базу данных более организованной, уменьшая повторение и улучшая управление данными.

- **0NF (Нулевая нормальная форма)**: нет структуры; данные могут быть дублированы и неструктурированы.
<br>

<image src="/img/6.1. pic5.png" alt="">
<br>

- **1NF (Первая нормальная форма)**:  каждая запись уникальна, и каждый атрибут содержит только атомарные значения.
<br>

<image src="/img/6.1. pic6.png" alt="">
<br>

- **2NF (Вторая нормальная форма)**: Таблица находится в 1NF и нет зависимости атрибутов от части ключа; не ключевые атрибуты зависят от всего ключа. Вам достаточно запомнить первые две формы.
<br>

<image src="/img/6.1. pic7.png" alt="">

<image src="/img/6.1. pic8.png" alt="">
<br>

- **3NF (Третья нормальная форма):** Таблица должна быть во 2NF и все её атрибуты (столбцы) должны зависеть только от первичного ключа. В 3NF устранены транзитивные зависимости.
<br>

<image src="/img/6.1. pic9.png" alt="">

<image src="/img/6.1. pic10.png" alt="">

<image src="/img/6.1. pic11.png" alt="">
<br>

- Есть еще 4NF и 5NF.

**Денормализация** - это процесс, используемый для оптимизации производительности базы данных путем добавления избыточности.

Это может включать объединение таблиц, чтобы уменьшить количество соединений (joins), или добавление избыточных копий данных в одной таблице для ускорения чтения за счет потенциально замедленной записи и увеличения использования пространства. Это противоположный нормализации подход, который часто используется в больших базах данных, где скорость чтения критически важна.
<br>
<br>
<br>
<br>

<a id='task1'></a>
## Вопросы к теме
<br>

#### Все атрибуты атомарны, то есть если ни один из его атрибутов нельзя разделить на более простые атрибуты, которые соответствуют каким-то другим свойствам описываемой сущности. Какая это нормальная форма?
<br>

 -  [x] 1
 -  [ ] 3
 -  [ ] 0
 -  [ ] 2
<br>
<br>

#### Соотнесите понятие и его функцию
<br>

<image src="/img/6.1. pic12.png" alt="">
<br>
